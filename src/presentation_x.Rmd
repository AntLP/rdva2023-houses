---
title: "PCA"
subtitle: "Rendez-vous Analytique 2022"
author: "Antoine Lachance-Perreault"
date: "2022-06-03"
output:
  xaringan::moon_reader:
    lib_dir: libs
    css: ["xaringan-themer.css", "promu_theme.css"]
    nature:
      highlightStyle: github
      highlightLines: true
      ratio: 16:9
      countIncrementalSlides: false
    includes:
      after_body: "afterInit.html"
    #self_contained: TRUE
    #chakra: "./remark-latest.min.js"
---



```{r theme, include=FALSE}

PROMU_YELLOW = "#FDDB00"
#PROMU_GREY = "#adafb2"
PROMU_GREY = "#53565A"

options(htmltools.dir.version = FALSE)
opts_chunk$set(
  fig.path = "media/",
  fig.width = 15,
  fig.height = 100/15,
  fig.retina = 3,
  out.width = "100%",
  cache = FALSE,
  echo = FALSE,
  message = FALSE, 
  warning = FALSE,
  fig.showtext = FALSE,
  fig.align = "center",
  hiline = TRUE,
  dev.args = list(bg = "transparent")
)
style_duo(
  primary_color = PROMU_GREY,
  secondary_color = PROMU_YELLOW,
  title_slide_background_image = "media/logo.svg",
  title_slide_background_size = "320px",
  title_slide_background_position = "10% 90%",
  text_font_google = google_font("Roboto"),
  header_font_google = google_font("Roboto Condensed")
)

theme_set(
    theme(
      text = element_text(
        color = theme_xaringan_get_value("text_color")
      ),
      title = element_text(
        family = gsub("'", '', theme_xaringan_get_value("header_font_family")),
        color = theme_xaringan_get_value("header_color")
      ),
      line = element_line(
        color = lighten_color(theme_xaringan_get_value("background_color"), 0.1)
      ),
      plot.background = element_rect(
        color = theme_xaringan_get_value("background_color"),
        fill = theme_xaringan_get_value("background_color")
      ),
      plot.margin = margin(10, 10, 10, 10),
      plot.title = element_text(
        size = rel(1.5),
        hjust = 0.5,
        margin = margin(0, 0, 20, 0)
      ),
      strip.text = element_text(
        family = gsub("'", '', theme_xaringan_get_value("header_font_family")),
        color = theme_xaringan_get_value("header_color")
      ),
      axis.text = element_text(
        size = rel(1.5)
      ),
      axis.title = element_text(
        size = rel(2)
      ),
      legend.text = element_text(
        size = rel(1.5)
      ),
      panel.grid = NULL,
      legend.position = "bottom",
      legend.key = element_rect(fill = PROMU_GREY, color = PROMU_GREY),
      legend.background = element_rect(fill = PROMU_GREY, color = PROMU_GREY),
      panel.background = element_rect(fill = PROMU_GREY),
      panel.grid.major = element_line(colour = lighten_color(PROMU_GREY, 0.2)),
      axis.line = element_line(colour = lighten_color(PROMU_GREY, 0.2)),
      strip.background = element_rect(fill=PROMU_GREY)
    )
)

update_geom_defaults("text", list(
  family = theme_get()$text$family
))
update_geom_defaults("label", list(
  family = theme_get()$text$family
))
update_geom_defaults("col", list(
  fill = theme_xaringan_get_value("text_bold_color")
))
update_geom_defaults("point", list(
  color = PROMU_YELLOW,
  fill = PROMU_YELLOW,
  shape = 21,
  size = 3
))
update_geom_defaults("line", list(
  color = theme_xaringan_get_value("text_color")
))
```
